<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Trabajo Práctico 2 - Concurrentes - FIUBA</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="Inicio.html"><strong aria-hidden="true">1.</strong> Inicio</a></li><li class="chapter-item expanded "><a href="cronograma.html"><strong aria-hidden="true">2.</strong> Cronograma</a></li><li class="chapter-item expanded "><a href="clases.html"><strong aria-hidden="true">3.</strong> Clases</a></li><li class="chapter-item expanded "><a href="2024_2C.html"><strong aria-hidden="true">4.</strong> 2do Cuatrimestre 2024</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2024_2C_tp1.html"><strong aria-hidden="true">4.1.</strong> Trabajo Práctico 1</a></li></ol></li><li class="chapter-item expanded "><a href="2024_1C.html"><strong aria-hidden="true">5.</strong> 1er Cuatrimestre 2024</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2024_1C_tp1.html"><strong aria-hidden="true">5.1.</strong> Trabajo Práctico 1</a></li><li class="chapter-item expanded "><a href="2024_1C_tp2.html" class="active"><strong aria-hidden="true">5.2.</strong> Trabajo Práctico 2</a></li></ol></li><li class="chapter-item expanded "><a href="2C2023.html"><strong aria-hidden="true">6.</strong> 2do Cuatrimestre 2023</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2C2023_tp.html"><strong aria-hidden="true">6.1.</strong> Trabajo Práctico</a></li></ol></li><li class="chapter-item expanded "><a href="1C2023.html"><strong aria-hidden="true">7.</strong> 1er Cuatrimestre 2023</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="1C2023_tp1.html"><strong aria-hidden="true">7.1.</strong> Trabajo Práctico 1</a></li><li class="chapter-item expanded "><a href="1C2023_tp2.html"><strong aria-hidden="true">7.2.</strong> Trabajo Práctico 2</a></li></ol></li><li class="chapter-item expanded "><a href="2C2022.html"><strong aria-hidden="true">8.</strong> 2do Cuatrimestre 2022</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2C2022_tp1.html"><strong aria-hidden="true">8.1.</strong> Trabajo Práctico 1</a></li><li class="chapter-item expanded "><a href="2C2022_tp2.html"><strong aria-hidden="true">8.2.</strong> Trabajo Práctico 2</a></li></ol></li><li class="chapter-item expanded "><a href="1C2022.html"><strong aria-hidden="true">9.</strong> 1er Cuatrimestre 2022</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="1C2022_tp.html"><strong aria-hidden="true">9.1.</strong> Trabajo Práctico</a></li><li class="chapter-item expanded "><a href="finales_2022_jul.html"><strong aria-hidden="true">9.2.</strong> Finales Julio/Agosto 2022</a></li></ol></li><li class="chapter-item expanded "><a href="2C2021.html"><strong aria-hidden="true">10.</strong> 2do Cuatrimestre 2021</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2C2021_tp.html"><strong aria-hidden="true">10.1.</strong> Trabajo Práctico 1</a></li><li class="chapter-item expanded "><a href="2C2021_tp2.html"><strong aria-hidden="true">10.2.</strong> Trabajo Práctico 2</a></li><li class="chapter-item expanded "><a href="finales_2022_feb.html"><strong aria-hidden="true">10.3.</strong> Finales Febrero/Marzo 2022</a></li></ol></li><li class="chapter-item expanded "><a href="1C2021.html"><strong aria-hidden="true">11.</strong> 1er Cuatrimestre 2021</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="trabajos_practicos_1.html"><strong aria-hidden="true">11.1.</strong> Trabajo Práctico 1</a></li><li class="chapter-item expanded "><a href="trabajos_practicos_2.html"><strong aria-hidden="true">11.2.</strong> Trabajo Práctico 2</a></li><li class="chapter-item expanded "><a href="trabajos_practicos_3.html"><strong aria-hidden="true">11.3.</strong> Trabajo Práctico 3</a></li><li class="chapter-item expanded "><a href="papers_final.html"><strong aria-hidden="true">11.4.</strong> Examen Final - Instrucciones y papers</a></li></ol></li><li class="chapter-item expanded "><a href="material_adicional.html"><strong aria-hidden="true">12.</strong> Material Adicional</a></li><li class="chapter-item expanded "><a href="bibliografia.html"><strong aria-hidden="true">13.</strong> Bibliografia</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Concurrentes - FIUBA</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="trabajo-práctico"><a class="header" href="#trabajo-práctico">Trabajo Práctico</a></h1>
<h2 id="introducción"><a class="header" href="#introducción">Introducción</a></h2>
<p>Una importante cadena de heladerías desea abrir una sucursal completamente robotizada.
Los clientes harán su pedido sobre una interfáz gráfica eligiendo gustos y tamaño. Luego un conjunto de robots podrán resolver los pedidos de forma concurrente, tal como lo hacen los heladeros los días de calor. Así mismo, cada contenedor con un gusto de helado podrá ser utilizado solamente por un robot a la vez. Finalmente se le entregará su helado al cliente; y solamente se le cobrará en la tarjeta si efectivamente se pudo completar su pedido.</p>
<h2 id="objetivo"><a class="header" href="#objetivo">Objetivo</a></h2>
<p>Deberán implementar un conjunto de aplicaciones en Rust que modele el sistema de la heladería.</p>
<h2 id="requerimientos"><a class="header" href="#requerimientos">Requerimientos</a></h2>
<ul>
<li>Una aplicación modelará las interfaces con los clientes, las cuales generarán ordenes de pedido según un archivo de pedidos simulado. Deben soportar varios gustos y tamaños posibles de contenedor. Habrán varias instancias, tantas como pantallas disponibles en el local.</li>
<li>Otra aplicación simulará los robots, los cuales tomarán un pedido y deberán obtener los ingredientes necesarios para llenar el contenedor. El tamaño del contenedor definirá el tiempo para simular cada pedido. Nuevamente, serán varios los robots que despachen pedidos.</li>
<li>De alguna forma el sistema deberá modelar los contendores con gustos y el stock disponible en cada uno. Eventualmente algun gusto quedará sin stock, y un robot que necesite ese gusto deberá cancelar el pedido.</li>
<li>Se debe considerar la captura del pago al momento de realizar el pedido, y el cobro efectivo al momento de entrega, o bien su cancelación. Modelar el gateway de pagos con una aplicación simple que loguea. Considerar que al momento de capturar el pago, el gateway puede rechazar la tarjeta aleatoriamente con una probabilidad.</li>
<li>El sistema debe ser resiliente, soportando la caida de algunas instancias de las aplicaciones.</li>
</ul>
<h2 id="requerimientos-no-funcionales"><a class="header" href="#requerimientos-no-funcionales">Requerimientos no funcionales</a></h2>
<p>Los siguientes son los requerimientos no funcionales para la resolución de los ejercicios:</p>
<ul>
<li>El proyecto deberá ser desarrollado en lenguaje Rust, usando las herramientas de la biblioteca estándar.</li>
<li>Por lo menos alguna, si no todas las aplicaciones implementadas deben funcionar utilizando el <strong>modelo de actores</strong>.</li>
<li>En el modelado de la solución se deberán utilizar una o mas de las herramientas de concurrencia distribuida mostradas en la cátedra. Por ejemplo exclusiones mutuas distribuidas, elección de líder, algorítmos de anillo, commits de dos fases, etc.</li>
<li>No se permite utilizar <strong>crates</strong> externos, salvo los explícitamente mencionados en este enunciado, los utilizados en las clases, o los autorizados expresamente por los profesores.</li>
<li>El código fuente debe compilarse en la última versión stable del compilador y no se permite utilizar bloques unsafe.</li>
<li>El código deberá funcionar en ambiente Unix / Linux.</li>
<li>El programa deberá ejecutarse en la línea de comandos.</li>
<li>La compilación no debe arrojar <strong>warnings</strong> del compilador, ni del linter <strong>clippy</strong>.</li>
<li>Las funciones y los tipos de datos (<strong>struct</strong>) deben estar documentadas siguiendo el estándar de <strong>cargo doc</strong>.</li>
<li>El código debe formatearse utilizando <strong>cargo fmt</strong>.</li>
<li>Cada tipo de dato implementado debe ser colocado en una unidad de compilación (archivo fuente) independiente.</li>
</ul>
<h2 id="entregas"><a class="header" href="#entregas">Entregas</a></h2>
<p>La resolución del presente proyecto es en grupos de tres integrantes.</p>
<p>Las entregas del proyecto se realizarán mediante Github Classroom. Cada grupo tendrá un repositorio disponible para hacer diferentes commits con el objetivo de resolver el problema propuesto.</p>
<h3 id="primera-entrega-diseño"><a class="header" href="#primera-entrega-diseño">Primera entrega: Diseño</a></h3>
<p>Deberán entregar un informe en formato Markdown en el <code>README.md</code> del repositorio que contenga una explicación del diseño y de las decisiones tomadas para la implementación de la solución, asi como diagramas de threads y procesos, y la comunicación entre los mismos; y diagramas de las entidades principales.</p>
<p>Se recomienda fuertemente que las implementaciones de las ideas de diseño se encuentren realizadas mínimamente, para validar el mismo.</p>
<p><strong>Fecha máxima de Entrega: 12 de Junio de 2024</strong></p>
<p>El diseño será evaluado por la cátedra y de no presentarse a término el trabajo quedará automaticamente desaprobado.</p>
<p>La cátedra podrá solicitar correciones que deberán realizarse en el mismo diseño, y puntos de mejora
que deberán tenerse en cuenta durante la implementación.</p>
<p>Se podrán hacer commits hasta el día de la entrega a las 19 hs Arg, luego el sistema automáticamente quitará el acceso de escritura.</p>
<h3 id="segunda-entrega-26-de-junio-de-2024"><a class="header" href="#segunda-entrega-26-de-junio-de-2024">Segunda entrega:** 26 de Junio de 2024</a></h3>
<ul>
<li>Deberá incluirse el código de la solución completa.</li>
<li>Deberá actualizarse el readme, con una sección dedicada a cambios que se hayan realizado desde la primera entrega. Además debe incluir cualquier explicación y/o set de comandos necesarios para la ejecución de los programas.</li>
<li>Debera incluir un enlace a un video de no más de 7 minutos donde cada integrante presente su participación principal en el proyecto, explicando las partes más relevantes del código que trabajó. El video debe mostrar además la solución funcionando en diferentes casos de interés.</li>
</ul>
<p>La cátedra podrá solicitar luego correcciones donde se encuentren errores severos, sobre todo en el uso de herramientas de concurrencia; o bien desviaciones respecto al diseño pactado inicialmente.</p>
<p>De tener correciones para realizar, las mismas deben realizarse y aprobarse con anterioridad a la presentación a examen final.</p>
<h3 id="entrega-final"><a class="header" href="#entrega-final">Entrega final</a></h3>
<p>Durante el examen final, los alumnos deberán poder responder preguntas sobre su diseño e implementación, y su participación personal en el trabajo; además de las preguntas y situaciones problemáticas propias de los contenidos presentados por la cátedra durante toda la materia.</p>
<h2 id="evaluación"><a class="header" href="#evaluación">Evaluación</a></h2>
<h3 id="principios-teóricos-y-corrección-de-bugs"><a class="header" href="#principios-teóricos-y-corrección-de-bugs">Principios teóricos y corrección de bugs</a></h3>
<p>Los alumnos presentarán el código de su solución primero en video, y luego personalmente, con foco en el uso de las diferentes herramientas de concurrencia.
Deberán poder explicar desde los conceptos teóricos vistos en clase cómo se comportará potencialmente su solución ante problemas de concurrencia (por ejemplo ausencia de deadlocks).</p>
<p>En caso de que la solución no se comportara de forma esperada, deberán poder explicar las causas y sus posibles rectificaciones.</p>
<h3 id="casos-de-prueba"><a class="header" href="#casos-de-prueba">Casos de prueba</a></h3>
<p>Se someterá a la aplicación a diferentes casos de prueba que validen la correcta aplicación de las herramientas de concurrencia y la resiliencia de las distintas entidades.</p>
<h3 id="informe"><a class="header" href="#informe">Informe</a></h3>
<p>El informe debe poder dar cuenta de todas las decisiones tomadas para implementar la solución, incluyendo diferentes diagramas y se debe poder utilizar como soporte para que el equipo presente su trabajo.</p>
<h3 id="organización-del-código"><a class="header" href="#organización-del-código">Organización del código</a></h3>
<p>El código debe organizarse respetando los criterios de buen diseño y en particular aprovechando las herramientas recomendadas por Rust.
Se prohibe el uso de bloques <code>unsafe</code>.</p>
<h3 id="tests-automatizados"><a class="header" href="#tests-automatizados">Tests automatizados</a></h3>
<p>La entrega debe contar con tests automatizados que prueben diferentes casos. Se considerará en especial aquellos que pongan a prueba el uso de las herramientas de concurrencia.</p>
<h3 id="presentación-en-término"><a class="header" href="#presentación-en-término">Presentación en término</a></h3>
<p>El trabajo deberá entregarse para la fecha estipulada. La presentación fuera de término sin coordinación con antelación con el profesor influirá negativamente en la nota final.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="2024_1C_tp1.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="2C2023.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="2024_1C_tp1.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="2C2023.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
